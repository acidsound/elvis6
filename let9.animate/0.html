<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <!-- loadImage -->
    <script src="../libs/utils.js"></script>

</head>
<body>

<canvas id="myCanvas" width="320" height="240" style="border: solid 1px black" ></canvas>

<script>
    var canvas = document.querySelector('#myCanvas');
    var context = canvas.getContext('2d');


    context.translate(canvas.width/2, canvas.height/2);

    var tds_human_path = "../res/2d/tds_human/";
    loadImages({
        idle_0 : tds_human_path + 'handgun/idle/survivor-idle_handgun_0.png',
        idle_1 : tds_human_path + 'handgun/idle/survivor-idle_handgun_1.png',
        idle_2 : tds_human_path + 'handgun/idle/survivor-idle_handgun_2.png',
        idle_3 : tds_human_path + 'handgun/idle/survivor-idle_handgun_3.png',
        idle_4 : tds_human_path + 'handgun/idle/survivor-idle_handgun_4.png',
        idle_5 : tds_human_path + 'handgun/idle/survivor-idle_handgun_5.png',
        idle_6 : tds_human_path + 'handgun/idle/survivor-idle_handgun_6.png',
        idle_7 : tds_human_path + 'handgun/idle/survivor-idle_handgun_7.png',
        idle_8 : tds_human_path + 'handgun/idle/survivor-idle_handgun_8.png',
        idle_9 : tds_human_path + 'handgun/idle/survivor-idle_handgun_9.png',
        idle_10 : tds_human_path + 'handgun/idle/survivor-idle_handgun_10.png',
        idle_11 : tds_human_path + 'handgun/idle/survivor-idle_handgun_11.png',
        idle_12 : tds_human_path + 'handgun/idle/survivor-idle_handgun_12.png',
        idle_13 : tds_human_path + 'handgun/idle/survivor-idle_handgun_13.png',
        idle_14 : tds_human_path + 'handgun/idle/survivor-idle_handgun_14.png',
        idle_15 : tds_human_path + 'handgun/idle/survivor-idle_handgun_15.png',
        idle_16 : tds_human_path + 'handgun/idle/survivor-idle_handgun_16.png',
        idle_17 : tds_human_path + 'handgun/idle/survivor-idle_handgun_17.png',
        idle_18 : tds_human_path + 'handgun/idle/survivor-idle_handgun_18.png',
        idle_19 : tds_human_path + 'handgun/idle/survivor-idle_handgun_19.png'

    }, (images)=> {

        console.log(images);

        var nFrameIndex = 0;
        function loop() {

            context.clearRect(-canvas.width/2,-canvas.height/2,canvas.width,canvas.height);

            context.beginPath();
            context.moveTo(-canvas.width/2,0);
            context.lineTo(canvas.width/2,0);
            context.stroke()

            context.beginPath();
            context.moveTo(0,-canvas.height/2);
            context.lineTo(0,canvas.height/2);
            context.stroke()


            var imageObj = images["idle_"+nFrameIndex];
            context.drawImage(imageObj, 0-imageObj.width/2, 0-imageObj.height/2);
            nFrameIndex++;

            if(nFrameIndex > 19) nFrameIndex = 0;

            setTimeout(loop,50);
        }

        loop();



    });

</script>

</body>
</html>